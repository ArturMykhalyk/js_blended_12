{"version":3,"file":"cart.js","sources":["../src/js/helpers.js","../src/cart.js"],"sourcesContent":["//Допоміжні функції\nfunction totalCart(array) {\n  let total = 0;\n  array.map(arr => (total += arr.price));\n  return total;\n}\nexport { totalCart };\n","//Логіка сторінки Cart\n//Логіка сторінки Wishlist\nimport { getProductsId } from './js/products-api';\nimport {\n  createProducts,\n  showLoader,\n  hideLoader,\n  updateCartCount,\n  updateWishlistCount,\n  showNotFound,\n  hideNotFound,\n} from './js/render-function';\nimport {\n  handleProductClick,\n  handleAddBtnCart,\n  handleAddBtnWishlist,\n  handleBuyBtnCart,\n  handletoggleTheme,\n} from './js/handlers';\nimport { STORAGE_KEYS } from './js/constants';\nimport { refs } from './js/refs';\nimport { totalCart } from './js/helpers';\n\nwindow.addEventListener('DOMContentLoaded', async () => {\n  STORAGE_KEYS.restoreState();\n  hideNotFound();\n  showLoader();\n  updateCartCount();\n  updateWishlistCount();\n  if (STORAGE_KEYS.getTheme() === 'dark') {\n    refs.toggleTheme.checked = true;\n  }\n\n  if (STORAGE_KEYS.getIdCart().length === 0) {\n    showNotFound();\n  }\n  const promisseCart = STORAGE_KEYS.getIdCart().map(elem =>\n    getProductsId(elem)\n  );\n\n  const product = await Promise.all(promisseCart);\n\n  createProducts(product);\n\n  refs.totalCart.textContent = totalCart(product);\n  refs.itemsCart.textContent = product.length;\n\n  hideLoader();\n});\n\nwindow.addEventListener('beforeunload', () => {\n  STORAGE_KEYS.saveState();\n});\n\nrefs.products.addEventListener('click', handleProductClick);\nrefs.btnAddCartModal.addEventListener('click', handleAddBtnCart);\nrefs.btnAddWishlistModal.addEventListener('click', handleAddBtnWishlist);\nrefs.buyProductsBtn.addEventListener('click', handleBuyBtnCart);\nrefs.toggleTheme.addEventListener('change', handletoggleTheme);\n"],"names":["totalCart","array","total","arr","STORAGE_KEYS","hideNotFound","showLoader","updateCartCount","updateWishlistCount","refs","showNotFound","promisseCart","elem","getProductsId","product","createProducts","hideLoader","handleProductClick","handleAddBtnCart","handleAddBtnWishlist","handleBuyBtnCart","handletoggleTheme"],"mappings":"+LACA,SAASA,EAAUC,EAAO,CACxB,IAAIC,EAAQ,EACZ,OAAAD,EAAM,IAAIE,GAAQD,GAASC,EAAI,KAAM,EAC9BD,CACT,CCkBA,OAAO,iBAAiB,mBAAoB,SAAY,CACtDE,EAAa,aAAY,EACzBC,IACAC,IACAC,IACAC,IACIJ,EAAa,SAAU,IAAK,SAC9BK,EAAK,YAAY,QAAU,IAGzBL,EAAa,YAAY,SAAW,GACtCM,IAEF,MAAMC,EAAeP,EAAa,UAAW,EAAC,IAAIQ,GAChDC,EAAcD,CAAI,CACtB,EAEQE,EAAU,MAAM,QAAQ,IAAIH,CAAY,EAE9CI,EAAeD,CAAO,EAEtBL,EAAK,UAAU,YAAcT,EAAUc,CAAO,EAC9CL,EAAK,UAAU,YAAcK,EAAQ,OAErCE,GACF,CAAC,EAED,OAAO,iBAAiB,eAAgB,IAAM,CAC5CZ,EAAa,UAAS,CACxB,CAAC,EAEDK,EAAK,SAAS,iBAAiB,QAASQ,CAAkB,EAC1DR,EAAK,gBAAgB,iBAAiB,QAASS,CAAgB,EAC/DT,EAAK,oBAAoB,iBAAiB,QAASU,CAAoB,EACvEV,EAAK,eAAe,iBAAiB,QAASW,CAAgB,EAC9DX,EAAK,YAAY,iBAAiB,SAAUY,CAAiB"}