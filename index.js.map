{"version":3,"file":"index.js","sources":["../src/home.js"],"sourcesContent":["//Логіка сторінки Home\nimport { getCategories, getProducts } from './js/products-api';\nimport {\n  createCategories,\n  createProducts,\n  showLoader,\n  hideLoader,\n  showLoadMoreButton,\n  updateCartCount,\n  updateWishlistCount,\n} from './js/render-function';\nimport {\n  handleCategoryClick,\n  handleProductClick,\n  handleMoreBtnClick,\n  searchForm,\n  searchClear,\n  handleAddBtnCart,\n  handleAddBtnWishlist,\n} from './js/handlers';\nimport { STORAGE_KEYS } from './js/constants';\nimport { refs } from './js/refs';\n\nrefs.categories.addEventListener('click', handleCategoryClick);\nrefs.products.addEventListener('click', handleProductClick);\nrefs.loadMoreButton.addEventListener('click', handleMoreBtnClick);\nrefs.searchForm.addEventListener('submit', searchForm);\nrefs.searchClear.addEventListener('click', searchClear);\nrefs.btnAddCartModal.addEventListener('click', handleAddBtnCart);\nrefs.btnAddWishlistModal.addEventListener('click', handleAddBtnWishlist);\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  STORAGE_KEYS.restoreState();\n  showLoader();\n  updateCartCount();\n  updateWishlistCount();\n  getCategories()\n    .then(categories => {\n      createCategories(categories);\n    })\n    .catch(error => console.log('categories', error));\n\n  getProducts(STORAGE_KEYS._page)\n    .then(products => {\n      hideLoader();\n      createProducts(products.products);\n      STORAGE_KEYS._totalPage = products.total / STORAGE_KEYS.per_Page;\n      if (STORAGE_KEYS._totalPage > 1) {\n        showLoadMoreButton();\n        STORAGE_KEYS._page++;\n      }\n    })\n    .catch(error => console.log('products', error));\n});\n\nwindow.addEventListener('beforeunload', () => {\n  STORAGE_KEYS.saveState();\n});\n"],"names":["refs","handleCategoryClick","handleProductClick","handleMoreBtnClick","searchForm","searchClear","handleAddBtnCart","handleAddBtnWishlist","STORAGE_KEYS","showLoader","updateCartCount","updateWishlistCount","getCategories","categories","createCategories","error","getProducts","products","hideLoader","createProducts","showLoadMoreButton"],"mappings":"wPAuBAA,EAAK,WAAW,iBAAiB,QAASC,CAAmB,EAC7DD,EAAK,SAAS,iBAAiB,QAASE,CAAkB,EAC1DF,EAAK,eAAe,iBAAiB,QAASG,CAAkB,EAChEH,EAAK,WAAW,iBAAiB,SAAUI,CAAU,EACrDJ,EAAK,YAAY,iBAAiB,QAASK,CAAW,EACtDL,EAAK,gBAAgB,iBAAiB,QAASM,CAAgB,EAC/DN,EAAK,oBAAoB,iBAAiB,QAASO,CAAoB,EAEvE,OAAO,iBAAiB,mBAAoB,IAAM,CAChDC,EAAa,aAAY,EACzBC,IACAC,IACAC,IACAC,EAAe,EACZ,KAAKC,GAAc,CAClBC,EAAiBD,CAAU,CACjC,CAAK,EACA,MAAME,GAAS,QAAQ,IAAI,aAAcA,CAAK,CAAC,EAElDC,EAAYR,EAAa,KAAK,EAC3B,KAAKS,GAAY,CAChBC,IACAC,EAAeF,EAAS,QAAQ,EAChCT,EAAa,WAAaS,EAAS,MAAQT,EAAa,SACpDA,EAAa,WAAa,IAC5BY,IACAZ,EAAa,QAErB,CAAK,EACA,MAAMO,GAAS,QAAQ,IAAI,WAAYA,CAAK,CAAC,CAClD,CAAC,EAED,OAAO,iBAAiB,eAAgB,IAAM,CAC5CP,EAAa,UAAS,CACxB,CAAC"}