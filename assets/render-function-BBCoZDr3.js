import{a as d,i as g,S as b,N as w,P as I,A as W,Z as $}from"./vendor-D41pUE73.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}})();const e={productsAPI:"https://dummyjson.com/products",per_Page:12,_idProduct:0,_idCart:[],_idWishlist:[],_category:"All",_page:0,_search:!1,_searchWord:"",_totalPage:1,_theme:"light",getTheme(){return this._theme},setTheme(t){this._theme=t},setIdCart(t){this._idCart=t},addIdCart(t){this._idCart.push(t)},getIdCart(){return this._idCart},removeIdCart(t){this._idCart=this._idCart.filter(s=>s!==t)},setIdWishlist(t){this._idWishlist=t},addIdWishlist(t){this._idWishlist.push(t)},getIdWishlist(){return this._idWishlist},removeIdWishlist(t){this._idWishlist=this._idWishlist.filter(s=>s!==t)},hasIdWishlist(t){return this._idWishlist.includes(t)},hasIdCart(t){return this._idCart.includes(t)},setIdProduct(t){this._idProduct=t},getIdProduct(){return this._idProduct},setCategory(t){this._category=t,this._page=1},getCategory(){return this._category},setPage(t){this._page=t},getPage(){return this._page},incrementPage(){this._page++},setSearch(t,s=""){this._search=t,this._searchWord=s,this._page=1},isSearch(){return this._search},getSearchWord(){return this._searchWord},setTotalPage(t){this._totalPage=t},getTotalPage(){return this._totalPage},saveState(){const t={idCart:this._idCart,idWishlist:this._idWishlist,theme:this._theme};localStorage.setItem("cart",JSON.stringify(t))},restoreState(){const t=JSON.parse(localStorage.getItem("cart"));t&&(this._theme=t.theme,this._idCart=Array.isArray(t.idCart)?t.idCart:[],this._idWishlist=Array.isArray(t.idWishlist)?t.idWishlist:[])}};e.restoreState();async function H(){return(await d.get(`${e.productsAPI}/category-list`)).data}async function A(t){const s=`${e.productsAPI}?limit=${e.per_Page}&skip=${(t-1)*e.per_Page}`;return(await d.get(s)).data}async function L(t,s){const o=`${e.productsAPI}/category/${t}?limit=${e.per_Page}&skip=${(s-1)*e.per_Page}`;return(await d.get(o)).data}async function q(t){const s=`${e.productsAPI}/${t}`;return(await d.get(s)).data}async function M(t,s){const o=`${e.productsAPI}/search?limit=${e.per_Page}&q=${t}&skip=${(s-1)*e.per_Page}`;return(await d.get(o)).data}function T(){r.modal.classList.add("modal--is-open"),document.addEventListener("keydown",f),window.addEventListener("click",y),r.closeModalBtn.addEventListener("click",_)}function _(){r.modal.classList.remove("modal--is-open"),document.removeEventListener("keydown",f),window.removeEventListener("click",y)}function f(t){t.key==="Escape"&&_()}function y(t){t.target===r.modal&&_()}async function l({search:t=!1,loadMore:s=!1}={}){try{let o;if(t?o=await M(e.getSearchWord(),e.getPage()):e.getCategory()==="All"?o=await A(e.getPage()):o=await L(e.getCategory(),e.getPage()),console.log(o),s||C(),o.products.length===0){v(),m();return}B(),x(o.products),e.setTotalPage(o.total/e.per_Page),e.getPage()<=e.getTotalPage()?O():(m(),s&&g.info({message:"We're sorry, but you've reached the end of search results",position:"topRight"})),e.incrementPage()}catch(o){console.error("Loading products error:",o)}finally{N()}}async function z(t){t.target.classList.contains("categories__btn")&&(document.querySelectorAll(".categories__btn").forEach(s=>s.classList.remove("categories__btn--active")),t.target.classList.add("categories__btn--active"),e.setCategory(t.target.textContent),m(),await l())}async function U(){E(),await l({search:e.isSearch(),loadMore:!0})}async function J(t){const s=t.target.closest(".products__item");if(!s)return;T(),e.setIdProduct(s.dataset.id),e.hasIdWishlist(e.getIdProduct())?r.btnAddWishlistModal.textContent="Remove from Wishlist":r.btnAddWishlistModal.textContent="Add to Wishlist",e.hasIdCart(e.getIdProduct())?r.btnAddCartModal.textContent="Remove from cart":r.btnAddCartModal.textContent="Add to Cart";const o=await q(e.getIdProduct());k(o)}async function K(t){t.preventDefault();const s=r.searchInput.value.trim();if(!s)return r.searchForm.reset(),g.error({message:"The input string must not be empty.",position:"topRight"});e.setSearch(!0,s),await l({search:!0}),r.searchForm.reset()}async function Z(){e.setSearch(!1),r.searchInput.value="",await l()}function D(t){t.target.textContent.toLowerCase().trim()==="add to cart"?(e.addIdCart(e.getIdProduct()),e.saveState(),t.target.textContent="Remove from cart"):(t.target.textContent="Add to Cart",e.removeIdCart(e._idProduct),e.saveState()),P()}function G(t){t.target.textContent.toLowerCase().trim()==="add to wishlist"?(e.addIdWishlist(e.getIdProduct()),e.saveState(),t.target.textContent="Remove from Wishlist"):(t.target.textContent="Add to Wishlist",e.removeIdWishlist(e._idProduct),e.saveState()),R()}function Y(){g.success({message:"Thank you for your order.",position:"topRight"}),e.setIdCart([]),e.saveState(),C(),P(),r.totalCart.textContent="0",r.itemsCart.textContent="0",v()}function Q(){window.scrollTo({top:0,behavior:"smooth"})}function V(){r.toggleTheme.checked?(e.setTheme("dark"),r.toggleTheme.checked=!0,e.saveState()):(e.setTheme("light"),r.toggleTheme.checked=!1,e.saveState()),console.log(e.getTheme())}const r={categories:document.querySelector(".categories"),products:document.querySelector(".products"),loadMoreButton:document.querySelector(".moreButton"),modal:document.querySelector(".modal"),modalProduct:document.querySelector(".modal-product"),closeModalBtn:document.querySelector(".modal__close-btn"),searchForm:document.querySelector(".search-form"),searchInput:document.querySelector(".search-form__input"),searchClear:document.querySelector(".search-form__btn-clear"),btnAddCartModal:document.querySelector(".modal-product__btn--cart"),btnAddWishlistModal:document.querySelector(".modal-product__btn--wishlist"),navCountCart:document.querySelector("[data-cart-count]"),navCountWishlist:document.querySelector("[data-wishlist-count]"),itemsCart:document.querySelector("[data-count]"),totalCart:document.querySelector("[data-price]"),buyProductsBtn:document.querySelector(".cart-summary__btn"),scrollUpBtn:document.getElementById("scrollUpBtn"),toggleTheme:document.querySelector('[type="checkbox"]')};function X(t){t.unshift("All");const s=t.map(o=>`<li class="categories__item">
          <button class="categories__btn" type="button">${o}</button>
        </li>`).join("");r.categories.insertAdjacentHTML("beforeend",s)}function x(t){const s=t.map(({id:o,title:n,brand:a,category:i,description:c,price:u,images:p})=>`
      <li class="products__item" data-id="${o}">
        <img class="products__image"  src="${p[0]}" alt="${c}" />
        <p class="products__title">${n}</p>
        <p class="products__brand">
          <span class="products__brand--bold">Brand:${a||" no brand"}</span>
        </p>
        <p class="products__category">Category: ${i}</p>
        <p class="products__price">Price: ${u}$</p>
      </li>`).join("");r.products.insertAdjacentHTML("beforeend",s)}function k({title:t,description:s,price:o,images:n,returnPolicy:a,shippingInformation:i,tags:c}){const u=c.map(h=>`<li class="modal-product__tag">${h}</li>`).join(""),p=n.length>1,S=`
        <div class="swiper modal-product__slider">
      <div class="swiper-wrapper">
        ${n.map(h=>`
        <div class="swiper-slide">
          <div class="swiper-zoom-container">
          <img class="modal-product__img" src="${h}" alt="${s}" />
        </div>   
        </div>`).join("")}
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${u}</ul>
        <p class="modal-product__description">${s}</p>
        <p class="modal-product__shipping-information">Shipping:${i}</p>
        <p class="modal-product__return-policy">Return Policy: ${a}</p>
        <p class="modal-product__price">Price: ${o} $</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>
`;r.modalProduct.innerHTML=S,new b(".modal-product__slider",{modules:[w,I,W,$],loop:p,zoom:{maxRatio:3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:5e3}})}function C(){r.products.innerHTML=""}function v(){document.querySelector(".not-found").classList.add("not-found--visible")}function B(){document.querySelector(".not-found").classList.remove("not-found--visible")}function E(){document.querySelector(".loader").classList.add("visible")}function N(){document.querySelector(".loader").classList.remove("visible")}function O(){document.querySelector(".moreButton").classList.add("visible")}function m(){document.querySelector(".moreButton").classList.remove("visible")}function P(){r.navCountCart.textContent=e._idCart.length}function R(){r.navCountWishlist.textContent=e._idWishlist.length}export{e as S,R as a,v as b,x as c,N as d,J as e,D as f,q as g,B as h,G as i,V as j,z as k,U as l,K as m,Z as n,Q as o,H as p,X as q,r,E as s,A as t,P as u,O as v,Y as w};
//# sourceMappingURL=render-function-BBCoZDr3.js.map
